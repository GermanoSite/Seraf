<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Relógio Escolar - Horário de Brasília</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            text-align: center;
            overflow-x: hidden;
            position: relative;
        }

        .main-container {
            display: flex;
            gap: 2rem;
            max-width: 1400px;
            width: 95%;
            position: relative;
            z-index: 10;
            margin: 1rem;
            align-items: flex-start;
        }

        .container {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(25px);
            border-radius: 25px;
            padding: 3rem 2.5rem;
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.25);
            animation: fadeIn 1.5s ease-out;
            flex: 1;
            min-width: 500px;
        }

        .countdown-panel {
            background: rgba(255, 255, 255, 0.12);
            backdrop-filter: blur(25px);
            border-radius: 25px;
            padding: 2rem;
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.25);
            animation: fadeIn 1.5s ease-out 0.3s both;
            width: 380px;
            max-height: 80vh;
            overflow-y: auto;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(40px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .title {
            font-size: 1.8rem;
            font-weight: 300;
            margin-bottom: 2rem;
            line-height: 1.4;
            opacity: 0.95;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
            letter-spacing: 0.5px;
        }

        .clock-container {
            margin: 2rem 0;
            position: relative;
        }

        .time {
            font-size: 4rem;
            font-weight: 100;
            letter-spacing: 3px;
            text-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
            animation: glow 3s infinite alternate;
            font-variant-numeric: tabular-nums;
            position: relative;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .time.tick {
            transform: scale(1.05) translateY(-2px);
            text-shadow: 0 8px 20px rgba(0, 0, 0, 0.4), 0 0 25px rgba(255, 255, 255, 0.4);
            filter: brightness(1.1);
        }

        @keyframes glow {
            0% { 
                text-shadow: 0 6px 12px rgba(0, 0, 0, 0.3), 0 0 20px rgba(255, 255, 255, 0.1); 
            }
            100% { 
                text-shadow: 0 6px 12px rgba(0, 0, 0, 0.3), 0 0 30px rgba(255, 255, 255, 0.2); 
            }
        }

        .date {
            font-size: 1.2rem;
            font-weight: 300;
            margin-top: 1rem;
            opacity: 0.85;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .current-period {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(15px);
            border-radius: 15px;
            padding: 1.5rem;
            margin: 2rem 0;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .period-title {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #fff;
        }

        .period-time {
            font-size: 1rem;
            opacity: 0.9;
            margin-bottom: 0.8rem;
        }

        .time-remaining {
            font-size: 1.1rem;
            font-weight: 500;
            color: #FFD700;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .schedule {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(15px);
            border-radius: 15px;
            padding: 1.5rem;
            margin: 2rem 0;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .schedule h3 {
            font-size: 1.2rem;
            margin-bottom: 1rem;
            color: #fff;
        }

        .schedule-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 0;
            font-size: 0.9rem;
            opacity: 0.8;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .schedule-item:last-child {
            border-bottom: none;
        }

        .schedule-item.active {
            background: rgba(255, 255, 255, 0.15);
            border-radius: 8px;
            padding: 0.8rem;
            opacity: 1;
            font-weight: 500;
            color: #FFD700;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }

        .countdown-title {
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            text-align: center;
            color: #fff;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .countdown-item {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 1.2rem;
            margin-bottom: 1rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }

        .countdown-item:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .countdown-item.active {
            background: rgba(255, 215, 0, 0.2);
            border: 2px solid rgba(255, 215, 0, 0.5);
            animation: pulse 2s infinite;
        }

        .countdown-item.completed {
            background: rgba(100, 100, 100, 0.2);
            opacity: 0.6;
        }

        .countdown-period-name {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #fff;
        }

        .countdown-time-range {
            font-size: 0.9rem;
            opacity: 0.8;
            margin-bottom: 0.8rem;
        }

        .countdown-timers {
            display: flex;
            flex-direction: column;
            gap: 0.4rem;
        }

        .countdown-timer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.85rem;
            padding: 0.3rem 0.6rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
        }

        .countdown-label {
            opacity: 0.9;
        }

        .countdown-value {
            font-weight: 600;
            color: #FFD700;
        }

        .countdown-value.completed {
            color: #90EE90;
        }

        .countdown-value.active {
            color: #FF6B6B;
            animation: blink 1s infinite;
        }

        .creator-info {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 1rem;
            margin-top: 1.5rem;
            border: 1px solid rgba(255, 255, 255, 0.15);
            text-align: center;
        }

        .creator-info p {
            font-size: 0.9rem;
            opacity: 0.8;
            margin: 0.3rem 0;
        }

        .creator-info strong {
            color: #FFD700;
            font-weight: 600;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .school-credit {
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            padding-top: 0.8rem;
            margin-top: 0.8rem !important;
            font-size: 0.85rem !important;
        }

        /* Animações para emojis */
        .emoji-bounce {
            display: inline-block;
            animation: bounce 2s infinite;
        }

        .emoji-rotate {
            display: inline-block;
            animation: rotate-emoji 3s infinite linear;
        }

        .emoji-pulse {
            display: inline-block;
            animation: pulse-emoji 1.5s infinite;
        }

        .emoji-shake {
            display: inline-block;
            animation: shake 2.5s infinite;
        }

        .emoji-swing {
            display: inline-block;
            animation: swing 2s infinite;
            transform-origin: top center;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }

        @keyframes rotate-emoji {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes pulse-emoji {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-3px); }
            75% { transform: translateX(3px); }
        }

        @keyframes swing {
            20% { transform: rotate(15deg); }
            40% { transform: rotate(-10deg); }
            60% { transform: rotate(5deg); }
            80% { transform: rotate(-5deg); }
            100% { transform: rotate(0deg); }
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0.7; }
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #00c851, #007e33);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 10px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
            transform: translateX(400px);
            opacity: 0;
            transition: all 0.5s ease;
            z-index: 1000;
            max-width: 350px;
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        .notification.show {
            transform: translateX(0);
            opacity: 1;
        }

        .notification.end {
            background: linear-gradient(135deg, #ff4444, #cc0000);
        }

        .floating-particles {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .particle {
            position: absolute;
            width: 6px;
            height: 6px;
            background: rgba(255, 255, 255, 0.4);
            border-radius: 50%;
            animation: float 8s infinite linear;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
        }

        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }

        .background-shapes {
            position: absolute;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 0;
        }

        .shape {
            position: absolute;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 50%;
            animation: moveShapes 20s infinite linear;
        }

        .shape:nth-child(1) {
            width: 80px;
            height: 80px;
            top: 20%;
            left: 10%;
            animation-delay: 0s;
        }

        .shape:nth-child(2) {
            width: 120px;
            height: 120px;
            top: 70%;
            right: 15%;
            animation-delay: -7s;
        }

        .shape:nth-child(3) {
            width: 60px;
            height: 60px;
            top: 40%;
            right: 20%;
            animation-delay: -14s;
        }

        @keyframes moveShapes {
            0% {
                transform: translateY(0) rotate(0deg);
            }
            100% {
                transform: translateY(-100vh) rotate(360deg);
            }
        }

        @media (max-width: 1200px) {
            .main-container {
                flex-direction: column;
                align-items: center;
            }

            .countdown-panel {
                width: 100%;
                max-width: 700px;
                max-height: none;
                order: 2;
            }

            .container {
                min-width: auto;
                width: 100%;
                max-width: 700px;
                order: 1;
            }
        }

        @media (max-width: 768px) {
            .main-container {
                gap: 1rem;
                margin: 0.5rem;
            }

            .container {
                padding: 2.5rem 1.5rem;
                margin: 0;
            }
            
            .title {
                font-size: 1.5rem;
            }
            
            .time {
                font-size: 3rem;
                letter-spacing: 2px;
            }
            
            .date {
                font-size: 1rem;
            }

            .countdown-panel {
                padding: 1.5rem;
                margin: 0;
            }

            .countdown-item {
                padding: 1rem;
            }

            .countdown-timers {
                gap: 0.3rem;
            }

            .countdown-timer {
                font-size: 0.8rem;
                padding: 0.2rem 0.5rem;
            }

            .schedule-item {
                flex-direction: column;
                gap: 0.3rem;
                text-align: left;
            }

            .notification {
                top: 10px;
                right: 10px;
                left: 10px;
                max-width: none;
                transform: translateY(-100px);
            }

            .notification.show {
                transform: translateY(0);
            }
        }

        @media (max-width: 480px) {
            .title {
                font-size: 1.3rem;
                margin-bottom: 1.5rem;
            }
            
            .time {
                font-size: 2.5rem;
            }
            
            .container {
                padding: 2rem 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="background-shapes">
        <div class="shape"></div>
        <div class="shape"></div>
        <div class="shape"></div>
    </div>
    
    <div class="floating-particles" id="particles"></div>
    
    <div id="notification" class="notification"></div>
    
    <div class="main-container">
        <div class="container">
            <h1 class="title">Relógio Escolar<br>Acompanhe seus horários</h1>
            
            <div class="clock-container">
                <div class="time" id="clock">00:00:00</div>
                <div class="date" id="date"></div>
            </div>
            
            <div class="current-period">
                <div class="period-title" id="currentPeriod">Carregando...</div>
                <div class="period-time" id="currentTime">--:-- - --:--</div>
                <div class="time-remaining" id="timeRemaining"></div>
            </div>

            <div class="schedule">
                <h3>📚 Horário das Aulas</h3>
                <div class="schedule-item" data-period="1aula">
                    <span>1ª Aula</span>
                    <span>07:30 - 08:20</span>
                </div>
                <div class="schedule-item" data-period="2aula">
                    <span>2ª Aula</span>
                    <span>08:20 - 09:10</span>
                </div>
                <div class="schedule-item" data-period="lanche">
                    <span>☕ Lanche</span>
                    <span>09:10 - 09:30</span>
                </div>
                <div class="schedule-item" data-period="3aula">
                    <span>3ª Aula</span>
                    <span>09:30 - 10:20</span>
                </div>
                <div class="schedule-item" data-period="4aula">
                    <span>4ª Aula</span>
                    <span>10:20 - 11:10</span>
                </div>
                <div class="schedule-item" data-period="5aula">
                    <span>5ª Aula</span>
                    <span>11:10 - 12:00</span>
                </div>
                <div class="schedule-item" data-period="6aula">
                    <span>6ª Aula</span>
                    <span>12:00 - 12:50</span>
                </div>
            </div>

            <div class="creator-info">
                <p>Criador do Site: <strong>GermanoXz🤷‍♂️</strong></p>
                <p class="school-credit">🏫 Uso exclusivo da escola <strong>Colégio Millennium Construtivo</strong> 🎓</p>
            </div>
        </div>

        <div class="countdown-panel">
            <div class="countdown-title">⏰ Contadores Detalhados</div>
            <div id="countdownContainer"></div>
        </div>
    </div>

    <script>
        const schedule = [
            { name: '1ª Aula', start: '07:30', end: '08:20', id: '1aula' },
            { name: '2ª Aula', start: '08:20', end: '09:10', id: '2aula' },
            { name: 'Lanche', start: '09:10', end: '09:30', id: 'lanche', emoji: '☕' },
            { name: '3ª Aula', start: '09:30', end: '10:20', id: '3aula' },
            { name: '4ª Aula', start: '10:20', end: '11:10', id: '4aula' },
            { name: '5ª Aula', start: '11:10', end: '12:00', id: '5aula' },
            { name: '6ª Aula', start: '12:00', end: '12:50', id: '6aula' }
        ];

        let lastNotifiedEvent = null;

        function timeToMinutes(time) {
            const [hours, minutes] = time.split(':').map(Number);
            return hours * 60 + minutes;
        }

        function minutesToTime(minutes) {
            const hours = Math.floor(minutes / 60);
            const mins = minutes % 60;
            return `${hours.toString().padStart(2, '0')}:${mins.toString().padStart(2, '0')}`;
        }

        function formatDetailedCountdown(totalMinutes) {
            if (totalMinutes <= 0) return 'Finalizado';
            
            const days = Math.floor(totalMinutes / (24 * 60));
            const hours = Math.floor((totalMinutes % (24 * 60)) / 60);
            const minutes = totalMinutes % 60;
            
            let result = [];
            if (days > 0) result.push(`${days} dia${days > 1 ? 's' : ''}`);
            if (hours > 0) result.push(`${hours} hora${hours > 1 ? 's' : ''}`);
            if (minutes > 0) result.push(`${minutes} min`);
            
            if (result.length === 0) return 'Agora mesmo!';
            if (result.length === 1) return result[0];
            if (result.length === 2) return result.join(' e ');
            return result.slice(0, -1).join(', ') + ' e ' + result[result.length - 1];
        }

        function showNotification(message, isEnd = false) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = `notification ${isEnd ? 'end' : ''} show`;
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 4000);
        }

        // Função para adicionar animações aos emojis
        function addEmojiAnimations() {
            const emojiAnimations = ['emoji-bounce', 'emoji-pulse', 'emoji-shake', 'emoji-swing'];
            
            // Animar emojis nos horários
            document.querySelectorAll('.schedule h3').forEach(el => {
                el.innerHTML = el.innerHTML.replace('📚', '<span class="emoji-bounce">📚</span>');
            });
            
            // Animar emojis nos créditos
            document.querySelectorAll('.school-credit').forEach(el => {
                el.innerHTML = el.innerHTML.replace('🏫', '<span class="emoji-swing">🏫</span>');
                el.innerHTML = el.innerHTML.replace('🎓', '<span class="emoji-bounce">🎓</span>');
            });
            
            // Animar emojis no painel de contadores
            document.querySelectorAll('.countdown-title').forEach(el => {
                el.innerHTML = el.innerHTML.replace('⏰', '<span class="emoji-rotate">⏰</span>');
            });
        }

        function getCurrentPeriod() {
            const now = new Date();
            const currentTime = timeToMinutes(`${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}`);
            
            for (const period of schedule) {
                const startTime = timeToMinutes(period.start);
                const endTime = timeToMinutes(period.end);
                
                if (currentTime >= startTime && currentTime < endTime) {
                    return { period, status: 'active', timeLeft: endTime - currentTime };
                }
            }
            
            // Verificar se está entre períodos
            for (let i = 0; i < schedule.length - 1; i++) {
                const currentEnd = timeToMinutes(schedule[i].end);
                const nextStart = timeToMinutes(schedule[i + 1].start);
                
                if (currentTime >= currentEnd && currentTime < nextStart) {
                    return { 
                        period: schedule[i + 1], 
                        status: 'break', 
                        timeLeft: nextStart - currentTime 
                    };
                }
            }
            
            // Antes do primeiro período
            if (currentTime < timeToMinutes(schedule[0].start)) {
                return { 
                    period: schedule[0], 
                    status: 'before', 
                    timeLeft: timeToMinutes(schedule[0].start) - currentTime 
                };
            }
            
            // Depois do último período
            return { period: null, status: 'after', timeLeft: 0 };
        }

        function updateCountdowns() {
            const now = new Date();
            const currentMinutes = timeToMinutes(`${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}`);
            const container = document.getElementById('countdownContainer');
            
            let html = '';
            
            for (const period of schedule) {
                const startMinutes = timeToMinutes(period.start);
                const endMinutes = timeToMinutes(period.end);
                const emoji = period.emoji || '📚';
                
                let status = '';
                let toStart = startMinutes - currentMinutes;
                let toEnd = endMinutes - currentMinutes;
                
                // Verificar status
                if (currentMinutes < startMinutes) {
                    status = 'upcoming';
                } else if (currentMinutes >= startMinutes && currentMinutes < endMinutes) {
                    status = 'active';
                } else {
                    status = 'completed';
                    // Para aulas já terminadas hoje, calcular para o próximo dia
                    toStart = (startMinutes + 24 * 60) - currentMinutes;
                    toEnd = (endMinutes + 24 * 60) - currentMinutes;
                }
                
                // Ajustar para próximo dia se necessário (para aulas que ainda não começaram hoje)
                if (toStart < 0 && status === 'upcoming') {
                    toStart += 24 * 60;
                }
                if (toEnd < 0 && status === 'upcoming') {
                    toEnd += 24 * 60;
                }

                html += `
                    <div class="countdown-item ${status}">
                        <div class="countdown-period-name"><span class="emoji-pulse">${emoji}</span> ${period.name}</div>
                        <div class="countdown-time-range">${period.start} - ${period.end}</div>
                        <div class="countdown-timers">
                            <div class="countdown-timer">
                                <span class="countdown-label">Para começar:</span>
                                <span class="countdown-value ${status === 'completed' ? 'completed' : ''}">${formatDetailedCountdown(Math.max(0, toStart))}</span>
                            </div>
                            <div class="countdown-timer">
                                <span class="countdown-label">Para acabar:</span>
                                <span class="countdown-value ${status === 'active' ? 'active' : status === 'completed' ? 'completed' : ''}">${formatDetailedCountdown(Math.max(0, toEnd))}</span>
                            </div>
                        </div>
                    </div>
                `;
            }
            
            container.innerHTML = html;
        }

        function updatePeriodInfo() {
            const current = getCurrentPeriod();
            const periodTitle = document.getElementById('currentPeriod');
            const currentTimeEl = document.getElementById('currentTime');
            const timeRemaining = document.getElementById('timeRemaining');
            
            // Remove active class from all items
            document.querySelectorAll('.schedule-item').forEach(item => {
                item.classList.remove('active');
            });
            
            if (current.period) {
                const emoji = current.period.emoji || '📚';
                
                if (current.status === 'active') {
                    periodTitle.innerHTML = `<span class="emoji-pulse">${emoji}</span> ${current.period.name} em andamento`;
                    currentTimeEl.textContent = `${current.period.start} - ${current.period.end}`;
                    timeRemaining.textContent = `Faltam ${formatDetailedCountdown(current.timeLeft)} para acabar`;
                    
                    // Highlight current period
                    const activeItem = document.querySelector(`[data-period="${current.period.id}"]`);
                    if (activeItem) activeItem.classList.add('active');
                    
                } else if (current.status === 'break') {
                    periodTitle.innerHTML = `<span class="emoji-pulse">⏰</span> Próxima: ${current.period.name}`;
                    currentTimeEl.textContent = `Começará às ${current.period.start}`;
                    timeRemaining.textContent = `Faltam ${formatDetailedCountdown(current.timeLeft)}`;
                    
                } else if (current.status === 'before') {
                    periodTitle.innerHTML = `<span class="emoji-bounce">🌅</span> Aulas ainda não começaram`;
                    currentTimeEl.textContent = `Primeira aula às ${current.period.start}`;
                    timeRemaining.textContent = `Faltam ${formatDetailedCountdown(current.timeLeft)}`;
                }
            } else {
                periodTitle.innerHTML = '<span class="emoji-swing">🏠</span> Aulas terminaram';

const today = new Date();
const dayOfWeek = today.getDay(); // 0 = domingo, 6 = sábado

if (dayOfWeek === 6) { // sábado
    currentTimeEl.textContent = 'Até segunda!';
} else if (dayOfWeek === 0) { // domingo
    currentTimeEl.textContent = 'Até segunda!';
} else { // segunda a sexta
    currentTimeEl.textContent = 'Até amanhã!';
}

timeRemaining.textContent = '';

            }
        }

        function checkForNotifications() {
            const now = new Date();
            const currentTimeStr = `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}`;
            const currentSeconds = now.getSeconds();
            
            // Só mostrar notificação no segundo 0 para evitar spam
            if (currentSeconds !== 0) return;
            
            for (const period of schedule) {
                const startEvent = `${period.id}-start`;
                const endEvent = `${period.id}-end`;
                
                // Verificar início do período
                if (currentTimeStr === period.start && lastNotifiedEvent !== startEvent) {
                    const emoji = period.emoji || '📚';
                    showNotification(`${emoji} ${period.name} começou!`);
                    lastNotifiedEvent = startEvent;
                    return;
                }
                
                // Verificar fim do período
                if (currentTimeStr === period.end && lastNotifiedEvent !== endEvent) {
                    const emoji = period.emoji || '📚';
                    showNotification(`${emoji} ${period.name} acabou!`, true);
                    lastNotifiedEvent = endEvent;
                    return;
                }
            }
        }

        function updateClock() {
            const now = new Date();
            
            // Converter para horário de Brasília (UTC-3)
            const brasiliaTime = new Date(now.getTime() - (3 * 60 * 60 * 1000));
            
            const hours = String(brasiliaTime.getUTCHours()).padStart(2, '0');
            const minutes = String(brasiliaTime.getUTCMinutes()).padStart(2, '0');
            const seconds = String(brasiliaTime.getUTCSeconds()).padStart(2, '0');
            
            const clockElement = document.getElementById('clock');
            const newTime = `${hours}:${minutes}:${seconds}`;
            
            // Animar mudança de segundo
            if (clockElement.textContent !== newTime) {
                clockElement.classList.add('tick');
                setTimeout(() => {
                    clockElement.classList.remove('tick');
                }, 250);
            }
            
            clockElement.textContent = newTime;
            
            // Atualizar data
            const options = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric',
                timeZone: 'America/Sao_Paulo'
            };
            
            const dateString = now.toLocaleDateString('pt-BR', options);
            document.getElementById('date').textContent = dateString;
            
            // Atualizar informações do período
            updatePeriodInfo();
            
            // Atualizar contadores
            updateCountdowns();
            
            // Verificar notificações
            checkForNotifications();
        }

        function createParticle() {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = Math.random() * 100 + '%';
            particle.style.animationDelay = Math.random() * 8 + 's';
            particle.style.animationDuration = (Math.random() * 4 + 4) + 's';
            
            document.getElementById('particles').appendChild(particle);
            
            setTimeout(() => {
                particle.remove();
            }, 8000);
        }

        // Inicializar
        updateClock();
        addEmojiAnimations();
        setInterval(updateClock, 1000);
        setInterval(createParticle, 400);
        
        // Criar algumas partículas iniciais
        for (let i = 0; i < 3; i++) {
            setTimeout(createParticle, i * 1500);
        }
    </script>
</body>
</html>
